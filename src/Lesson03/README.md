[« На главную](../../README.md)

---

## Макрокоманды

### Цель:
Научиться обрабатывать ситуации с точки зрения SOLID, когда требуется уточнить существующее поведение без модификации существующего кода.
Предположим, что у нас уже написаны команды MoveCommand и RotateCommand.
Теперь возникло новое требование: пользователи в игре могут устанавливать правило - во время движение расходуется топливо, двигаться можно только при наличии топлива.<br>

Реализовать новую возможность можно введя две новые команды: CheckFuelCommand и BurnFuelCommand.<br>

CheckFuelCommand проверяет, что топлива достаточно, если нет, то выбрасывает исключение CommandException.<br>
BurnFuelCommand уменьшает количество топлива на скорость расхода топлива.<br>

После этого мы можем три команды выстроить в цепочку: CheckFuelCommand MoveCommand BurnFuelCommand

Чтобы это было прозрачно для пользователя реализуем Макрокоманду - специальную разновидность команды, которая в конструкторе принимает массив команда, а методе execute их все последовательно выполняет.<br>
При повороте движущегося объекта меняется вектор мгновенной скорости.<br>

Напишите команду, которая модифицирует вектор мгновенной скорости, в случае поворота.<br>
Постройте цепочку команд для поворота.<br>

### Описание/Пошаговая инструкция выполнения домашнего задания:
- Реализовать класс CheckFuelCommand и тесты к нему.
- Реализовать класс BurnFuelCommand и тесты к нему.
- Реализовать простейшую макрокоманду и тесты к ней. Здесь простейшая - это значит, что при выбросе исключения вся последовательность команд приостанавливает свое выполнение, а макрокоманда выбрасывает CommandException.
- Реализовать команду движения по прямой с расходом топлива, используя команды с предыдущих шагов.
- Реализовать команду для модификации вектора мгновенной скорости при повороте. Необходимо учесть, что не каждый разворачивающийся объект движется.
- Реализовать команду поворота, которая еще и меняет вектор мгновенной скорости, если есть.

### Критерии оценки:
- Домашнее задание сдано - 1 балл.
- Реализована команда CheckFuelCommand - 1балл
- Написаны тесты к CheckFuelCommand - 1 балл
- Реализована команда BurnFuelCommand - 1балл
- Написаны тесты к BurnFuelCommand - 1 балл
- Реализована макрокоманда движения по прямой с расходом топлива и тесты к ней - 1 балл
- Написаны тесты к MacroCommand - 1 балл
- Реализована команда ChangeVelocityCommand - 1балл
- Написаны тесты к ChangeVelocityCommand - 1 балл
- Реализована команда поворота, которая еще и меняет вектор мгновенной скорости - 1 балл
